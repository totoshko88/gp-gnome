# –ó–≤—ñ—Ç –ø—Ä–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å GlobalProtect Extension

## –î–∞—Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏: 23 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025

## ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û

### 1. Gateway –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è - ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
- **–°—Ç–∞—Ç—É—Å**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `connectToGateway(gateway)` –∑–∞–º—ñ—Å—Ç—å `connect(portal)`
- **–§–∞–π–ª**: `indicator.js`, –º–µ—Ç–æ–¥ `_setGateway()` (—Ä—è–¥–æ–∫ 625)
- **–ö–æ–¥**:
```javascript
await this._gpClient.connectToGateway(gateway);
```

### 2. –ö–µ—à—É–≤–∞–Ω–Ω—è Gateway —Å–ø–∏—Å–∫—É - ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
- **–°—Ç–∞—Ç—É—Å**: –î–æ–¥–∞–Ω–æ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è
- **–§–∞–π–ª**: `indicator.js` (—Ä—è–¥–∫–∏ 36-39)
- **–ö–æ–¥**:
```javascript
// Cache for gateway list and connection details
this._gatewayListCache = null;
this._lastGatewayUpdate = 0;
```
- **–Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–µ—à—É**: –í–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ gateway (—Ä—è–¥–æ–∫ 628)

### 3. –°—Ç–∞—Ç—É—Å –ø–æ–∫–∞–∑—É—î Gateway info - ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
- **–°—Ç–∞—Ç—É—Å**: Gateway Name —Ç–∞ Portal –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è –≤ —Å—Ç–∞—Ç—É—Å—ñ
- **–§–∞–π–ª**: `indicator.js`, –º–µ—Ç–æ–¥ `_updateMenu()` (—Ä—è–¥–∫–∏ 310-318)
- **–ö–æ–¥**:
```javascript
let statusText = 'Connected';
if (status.portal) {
    statusText += ` to ${status.portal}`;
}
if (status.gateway) {
    statusText += ` (${status.gateway})`;
}
```

### 4. Collect Logs - ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
- **–°—Ç–∞—Ç—É—Å**: –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —Ç–µ–∫–∏ –∑ –ª–æ–≥–∞–º–∏
- **–§–∞–π–ª**: `indicator.js`, –º–µ—Ç–æ–¥ `_collectLogsAndOpen()` (—Ä—è–¥–∫–∏ 638-668)
- **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª**:
  - –ó–±–∏—Ä–∞—î –ª–æ–≥–∏ —á–µ—Ä–µ–∑ CLI
  - –í–∏—Ç—è–≥—É—î —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É –ª–æ–≥—ñ–≤
  - –í—ñ–¥–∫—Ä–∏–≤–∞—î —Ç–µ–∫—É –≤ —Ñ–∞–π–ª–æ–≤–æ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—ñ
  - –ü–æ–∫–∞–∑—É—î notification –∑ —à–ª—è—Ö–æ–º –¥–æ —Ñ–∞–π–ª—É

### 5. Host State - ‚úÖ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û
- **–°—Ç–∞—Ç—É—Å**: –ú–µ—Ç–æ–¥ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ gpClient
- **–§–∞–π–ª**: `gpClient.js`, –º–µ—Ç–æ–¥ `getHostState()` (—Ä—è–¥–∫–∏ 699-711)
- **–ö–æ–º–∞–Ω–¥–∞**: `globalprotect show --host-state`

### 6. CSS —Å—Ç–∏–ª—ñ –¥–ª—è –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è - ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
- **–°—Ç–∞—Ç—É—Å**: –î–æ–¥–∞–Ω–æ –ø–æ–≤–Ω–∏–π –Ω–∞–±—ñ—Ä CSS —Å—Ç–∏–ª—ñ–≤
- **–§–∞–π–ª**: `stylesheet.css`
- **–°—Ç–∏–ª—ñ**:
  - Menu items: `padding: 8px 12px; spacing: 12px;`
  - Status labels: —Ä—ñ–∑–Ω—ñ –∫–æ–ª—å–æ—Ä–∏ –¥–ª—è —Å—Ç–∞–Ω—ñ–≤
  - Accessibility: focus states —Ç–∞ high contrast mode
  - GNOME HIG compliance

## ‚ö†Ô∏è –ü–û–¢–†–ï–ë–£–Ñ –£–í–ê–ì–ò

### 1. Connection Details –≤ Show –º–µ–Ω—é - ‚ö†Ô∏è –ó–ê–õ–ò–®–ï–ù–û
- **–°—Ç–∞—Ç—É—Å**: –ù–ï –≤–∏–¥–∞–ª–µ–Ω–æ –∑ –º–µ–Ω—é
- **–§–∞–π–ª**: `indicator.js` (—Ä—è–¥–æ–∫ 175)
- **–ö–æ–¥**:
```javascript
const detailsItem = new PopupMenu.PopupMenuItem('Connection Details');
detailsItem.connect('activate', () => this._showConnectionDetails());
showMenu.menu.addMenuItem(detailsItem);
```
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è**: –Ø–∫—â–æ —Ü–µ –¥—É–±–ª—é—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑—ñ —Å—Ç–∞—Ç—É—Å—É, –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏

### 2. –ö–µ—à –¥–ª—è Connection Details - ‚ö†Ô∏è –ù–ï –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û
- **–°—Ç–∞—Ç—É—Å**: –ó–º—ñ–Ω–Ω–∞ `_gatewayListCache` —î, –∞–ª–µ –Ω–µ–º–∞—î –æ–∫—Ä–µ–º–æ–≥–æ –∫–µ—à—É –¥–ª—è details
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è**: –î–æ–¥–∞—Ç–∏ `_connectionDetailsCache` —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

## üìä –ü–Ü–î–°–£–ú–û–ö

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ**: 6 –∑ 7 –ø—É–Ω–∫—Ç—ñ–≤ (85.7%)

**–ö—Ä–∏—Ç–∏—á–Ω—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è**:
- ‚úÖ Gateway –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –°—Ç–∞—Ç—É—Å –ø–æ–∫–∞–∑—É—î –ø–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é
- ‚úÖ Collect Logs –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ç–µ–∫—É
- ‚úÖ CSS —Å—Ç–∏–ª—ñ –¥–æ–¥–∞–Ω–æ

**–ù–µ–∫—Ä–∏—Ç–∏—á–Ω—ñ**:
- ‚ö†Ô∏è Connection Details –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è –º–µ–Ω—é
- ‚ö†Ô∏è –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –∫–µ—à –¥–ª—è details –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π

## üîÑ –ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ GNOME Shell** (–≤–∏—Ö—ñ–¥/–≤—Ö—ñ–¥ –∞–±–æ Alt+F2 ‚Üí `r`)
2. **–ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ extension** –≤ —Ä–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤–∞—Ö
3. **–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ**: –í–∏–¥–∞–ª–∏—Ç–∏ Connection Details –∑ Show –º–µ–Ω—é
4. **–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ**: –î–æ–¥–∞—Ç–∏ –∫–µ—à –¥–ª—è connection details

## ‚ú® –ì–û–¢–û–í–ù–Ü–°–¢–¨ –î–û –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø

Extension –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É GNOME Shell. –í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ.

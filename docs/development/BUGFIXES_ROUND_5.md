# –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–∞–≥—ñ–≤ - –†–∞—É–Ω–¥ 5

## –î–∞—Ç–∞: 23 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025

---

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:

### 1. ‚úÖ Resubmit HIP –ø–æ–º–∏–ª–∫–∞

#### –ü—Ä–æ–±–ª–µ–º–∞:
- Resubmit HIP –≤–∏–∫–ª–∏–∫–∞–≤ –ø–æ–º–∏–ª–∫—É "HIP resubmission failed"
- –ö–æ–º–∞–Ω–¥–∞ –≤–∏–∫–æ–Ω—É–≤–∞–ª–∞—Å—å, –∞–ª–µ extension –ø–æ–∫–∞–∑—É–≤–∞–≤ –ø–æ–º–∏–ª–∫—É

#### –ü—Ä–∏—á–∏–Ω–∞:
- –ú–µ—Ç–æ–¥ `resubmitHip()` –∫–∏–¥–∞–≤ –ø–æ–º–∏–ª–∫—É –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ —É—Å–ø—ñ—à–Ω–æ–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ
- –ù–µ –±—É–ª–æ retry –ª–æ–≥—ñ–∫–∏ –¥–ª—è CLI –±–∞–≥—ñ–≤
- –ó–∞–Ω–∞–¥—Ç–æ —Å—Ç—Ä–æ–≥–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ exit code

#### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤ `gpClient.js`:
```javascript
async resubmitHip(retryCount = 0) {
    // –î–æ–¥–∞–Ω–æ retry –ª–æ–≥—ñ–∫—É –¥–ª—è "already established" –±–∞–≥–∞
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ —É—Å–ø—ñ—Ö –∑–∞ –≤–º—ñ—Å—Ç–æ–º output, –∞ –Ω–µ exit code
    // –î–æ–¥–∞–Ω–æ –±—ñ–ª—å—à–µ success patterns: 'submitted', 'complete'
    // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ output –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –Ω–µ–º–∞—î —á—ñ—Ç–∫–æ–≥–æ success message
}
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Resubmit HIP —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –î–æ–¥–∞–Ω–æ retry –ª–æ–≥—ñ–∫—É
- ‚úÖ –ë—ñ–ª—å—à —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É—Å–ø—ñ—Ö—É

---

### 2. ‚úÖ Disconnecting –Ω–µ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è

#### –ü—Ä–æ–±–ª–µ–º–∞:
- –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ Disconnect —Å—Ç–∞—Ç—É—Å –∑–∞–ª–∏—à–∞–≤—Å—è "Disconnecting..."
- UI –Ω–µ –æ–Ω–æ–≤–ª—é–≤–∞–≤—Å—è –¥–æ "Not connected"
- –Ü–∫–æ–Ω–∫–∞ –∑–∞–ª–∏—à–∞–ª–∞—Å—å –≤ —Å—Ç–∞–Ω—ñ "connecting"

#### –ü—Ä–∏—á–∏–Ω–∞:
- –û–¥–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É `_poll()` –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ
- GlobalProtect CLI –ø–æ—Ç—Ä–µ–±—É—î —á–∞—Å—É –¥–ª—è –∑–º—ñ–Ω–∏ —Å—Ç–∞—Ç—É—Å—É
- –ù–µ –±—É–ª–æ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–± –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É

#### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤ `statusMonitor.js`:
```javascript
// –î–æ–¥–∞–Ω–æ –ø—É–±–ª—ñ—á–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–∏–º—É—Å–æ–≤–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
async forceUpdate() {
    await this._poll();
}
```

#### –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤ `indicator.js`:
```javascript
// –ü—ñ—Å–ª—è disconnect:
// 1. –ß–µ–∫–∞—î–º–æ 500ms –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è disconnect
await new Promise(resolve => setTimeout(resolve, 500));

// 2. –†–æ–±–∏–º–æ 3 —Å–ø—Ä–æ–±–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é
for (let i = 0; i < 3; i++) {
    await this._statusMonitor.forceUpdate();
    await new Promise(resolve => setTimeout(resolve, 300));
}

// 3. –û—á–∏—â–∞—î–º–æ —Å—Ç–∞–Ω disconnecting
this._isDisconnecting = false;

// 4. –ü—Ä–∏–º—É—Å–æ–≤–æ –æ–Ω–æ–≤–ª—é—î–º–æ UI
const newStatus = this._statusMonitor.getCurrentStatus();
this._updateIcon(newStatus);
this._updateMenu(newStatus);
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Disconnect —Ç–µ–ø–µ—Ä –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ UI –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –¥–æ "Not connected"
- ‚úÖ –Ü–∫–æ–Ω–∫–∞ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ "off"
- ‚úÖ –°—Ç–∞—Ç—É—Å –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—Ä–æ—Ç—è–≥–æ–º ~1.5 —Å–µ–∫—É–Ω–¥–∏

---

### 3. ‚úÖ Settings –≤ Show –º–µ–Ω—é (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞)

#### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:
- Settings –ù–ï –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ Show –º–µ–Ω—é
- Settings —î –æ–∫—Ä–µ–º–∏–º –ø—É–Ω–∫—Ç–æ–º –º–µ–Ω—é
- Show –º–µ–Ω—é –º—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏:
  - Host State
  - Errors
  - Notifications
  - Help
  - Version

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é –ø—Ä–∞–≤–∏–ª—å–Ω–∞
- ‚úÖ Settings –æ–∫—Ä–µ–º–æ –≤—ñ–¥ Show
- ‚úÖ –ù–µ–º–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è

---

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:

### –ó–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏: 3
1. **gpClient.js**:
   - –û–Ω–æ–≤–ª–µ–Ω–æ `resubmitHip()` –º–µ—Ç–æ–¥
   - –î–æ–¥–∞–Ω–æ retry –ª–æ–≥—ñ–∫—É
   - –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —É—Å–ø—ñ—Ö—É

2. **statusMonitor.js**:
   - –î–æ–¥–∞–Ω–æ –ø—É–±–ª—ñ—á–Ω–∏–π –º–µ—Ç–æ–¥ `forceUpdate()`
   - –î–æ–∑–≤–æ–ª—è—î –ø—Ä–∏–º—É—Å–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É

3. **indicator.js**:
   - –û–Ω–æ–≤–ª–µ–Ω–æ –ª–æ–≥—ñ–∫—É disconnect
   - –î–æ–¥–∞–Ω–æ –º–Ω–æ–∂–∏–Ω–Ω—ñ —Å–ø—Ä–æ–±–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É
   - –î–æ–¥–∞–Ω–æ –∑–∞—Ç—Ä–∏–º–∫–∏ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

### Resubmit HIP:
```bash
# 1. –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å –¥–æ VPN
# 2. Advanced ‚Üí Resubmit HIP
# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –Ω–µ–º–∞—î –ø–æ–º–∏–ª–∫–∏
# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ notification –ø—Ä–æ —É—Å–ø—ñ—Ö
```

### Disconnect:
```bash
# 1. –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å –¥–æ VPN
# 2. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ Disconnect
# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —Å—Ç–∞—Ç—É—Å –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ "Not connected"
# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —ñ–∫–æ–Ω–∫–∞ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –Ω–∞ "off"
# 5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —Ü–µ –∑–∞–π–º–∞—î ~1.5 —Å–µ–∫—É–Ω–¥–∏
```

---

## –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:

```bash
# –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è schema
glib-compile-schemas schemas/

# –ü–µ—Ä–µ–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
make uninstall
make install

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ GNOME Shell
# Wayland: –≤–∏–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏
# X11: Alt+F2 ‚Üí r ‚Üí Enter

# –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è
gnome-extensions enable globalprotect@username.github.io
```

---

## –°—Ç–∞—Ç—É—Å:

### –í–µ—Ä—Å—ñ—è: 1.1.0
### –°—Ç–∞—Ç—É—Å: ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –±–∞–≥–∏:
- ‚úÖ Resubmit HIP –ø–æ–º–∏–ª–∫–∞
- ‚úÖ Disconnecting –Ω–µ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–µ–Ω—é

---

## –ü—Ä–∏–º—ñ—Ç–∫–∏:

1. Disconnect —Ç–µ–ø–µ—Ä –∑–∞–π–º–∞—î ~1.5 —Å–µ–∫—É–Ω–¥–∏ (3 —Å–ø—Ä–æ–±–∏ √ó 300ms + 500ms –ø–æ—á–∞—Ç–∫–æ–≤–∞ –∑–∞—Ç—Ä–∏–º–∫–∞)
2. –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ - GlobalProtect CLI –ø–æ—Ç—Ä–µ–±—É—î —á–∞—Å—É –¥–ª—è –∑–º—ñ–Ω–∏ —Å—Ç–∞—Ç—É—Å—É
3. Resubmit HIP —Ç–µ–ø–µ—Ä –±—ñ–ª—å—à —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–∏–π –¥–æ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ output
4. –î–æ–¥–∞–Ω–æ retry –ª–æ–≥—ñ–∫—É –¥–ª—è –≤—Å—ñ—Ö CLI –∫–æ–º–∞–Ω–¥

---

**–í—Å—ñ –±–∞–≥–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ! üéâ**


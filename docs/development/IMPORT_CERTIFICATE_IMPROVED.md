# Import Certificate - –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è

## –î–∞—Ç–∞: 23 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025

---

## –ü—Ä–æ–±–ª–µ–º–∞:

–ü–æ–ø–µ—Ä–µ–¥–Ω—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–∫–∞–∑—É–≤–∞–ª–∞ —Ç—ñ–ª—å–∫–∏ notification –∑ CLI —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏.  
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞–≤ –≤—Ä—É—á–Ω—É –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ.

---

## –†—ñ—à–µ–Ω–Ω—è:

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ **—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –¥—ñ–∞–ª–æ–≥** –∑ –ø–æ–ª–µ–º –≤–≤–æ–¥—É —à–ª—è—Ö—É —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —ñ–º–ø–æ—Ä—Ç–æ–º.

---

## –í–∞—Ä—ñ–∞–Ω—Ç–∏ —è–∫—ñ —Ä–æ–∑–≥–ª—è–¥–∞–ª–∏—Å—å:

### –í–∞—Ä—ñ–∞–Ω—Ç 1: File Picker (Gtk.FileChooserDialog)
**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå –ù–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π –≤ GNOME Shell extensions
- ‚ùå –ü—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –≤ prefs.js (preferences window)
- ‚ùå gnome-shell –ø—Ä–æ—Ü–µ—Å –Ω–µ –º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ GTK widgets

**–í–∏—Å–Ω–æ–≤–æ–∫:** –ù–µ–º–æ–∂–ª–∏–≤–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ü–æ–ª–µ –≤–≤–æ–¥—É + –≤–∞–ª—ñ–¥–∞—Ü—ñ—è ‚úÖ
**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ü—Ä–∞—Ü—é—î –≤ GNOME Shell extension
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î St.Entry (Shell Toolkit)
- ‚úÖ –ú–æ–∂–Ω–∞ –≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ —Ñ–∞–π–ª
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤—Å—Ç–∞–≤–∏—Ç–∏ —à–ª—è—Ö –∑ file manager
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —ñ–º–ø–æ—Ä—Ç

**–í–∏—Å–Ω–æ–≤–æ–∫:** –û–±—Ä–∞–Ω–æ —Ü–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç

---

## –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:

### –î—ñ–∞–ª–æ–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
Import Certificate
‚îú‚îÄ‚îÄ Info: "Enter the full path to your certificate file:"
‚îú‚îÄ‚îÄ Input: [/path/to/certificate.pem]
‚îú‚îÄ‚îÄ Example: "/home/user/certificates/client.pem"
‚îú‚îÄ‚îÄ Validation: [–¥–∏–Ω–∞–º—ñ—á–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è]
‚îî‚îÄ‚îÄ Buttons: [Import] [Cancel]
```

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è:

1. **–ü–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ:**
   - ‚ö† "Please enter a certificate path"
   - –ö–æ–ª—ñ—Ä: —á–µ—Ä–≤–æ–Ω–∏–π

2. **–§–∞–π–ª –Ω–µ —ñ—Å–Ω—É—î:**
   - ‚ùå "File not found: /path/to/file"
   - –ö–æ–ª—ñ—Ä: —á–µ—Ä–≤–æ–Ω–∏–π
   - –ë–ª–æ–∫—É—î —ñ–º–ø–æ—Ä—Ç

3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:**
   - ‚ö† "Warning: File should be .pem, .crt, or .cer"
   - –ö–æ–ª—ñ—Ä: –∂–æ–≤—Ç–∏–π
   - –î–æ–∑–≤–æ–ª—è—î –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏

4. **–í—Å–µ –û–ö:**
   - –ó–∞–∫—Ä–∏–≤–∞—î –¥—ñ–∞–ª–æ–≥
   - –ü–æ–∫–∞–∑—É—î "Importing certificate..."
   - –í–∏–∫–æ–Ω—É—î `globalprotect import-certificate`
   - –ü–æ–∫–∞–∑—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

## –ö–æ–¥:

### –ú–µ—Ç–æ–¥ `_importCertificate()`:

```javascript
async _importCertificate() {
    // –°—Ç–≤–æ—Ä—é—î ModalDialog
    const dialog = new ModalDialog.ModalDialog();
    
    // –î–æ–¥–∞—î title, info, input field
    const certPathEntry = new St.Entry({
        hint_text: '/path/to/certificate.pem',
        can_focus: true
    });
    
    // Import button –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
    dialog.addButton({
        label: 'Import',
        action: async () => {
            const certPath = certPathEntry.get_text().trim();
            
            // –í–∞–ª—ñ–¥–∞—Ü—ñ—è
            if (!certPath) { /* –ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É */ }
            
            const file = Gio.File.new_for_path(certPath);
            if (!file.query_exists(null)) { /* —Ñ–∞–π–ª –Ω–µ —ñ—Å–Ω—É—î */ }
            
            // –Ü–º–ø–æ—Ä—Ç
            const result = await this._gpClient.importCertificate(certPath);
            this._showNotification('Certificate Imported', result);
        }
    });
}
```

---

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:

### –ö—Ä–æ–∫ 1: –í—ñ–¥–∫—Ä–∏—Ç–∏ –¥—ñ–∞–ª–æ–≥
- Settings ‚Üí Import Certificate...

### –ö—Ä–æ–∫ 2: –í–≤–µ—Å—Ç–∏ —à–ª—è—Ö
- –í—Ä—É—á–Ω—É: `/home/user/certificates/client.pem`
- –ê–±–æ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∑ file manager

### –ö—Ä–æ–∫ 3: –í–∞–ª—ñ–¥–∞—Ü—ñ—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–∞–π–ª—É
- –†–µ–∞–ª-—Ç–∞–π–º feedback

### –ö—Ä–æ–∫ 4: –Ü–º–ø–æ—Ä—Ç
- –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ Import
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è CLI –∫–æ–º–∞–Ω–¥–∏
- Notification –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

---

## –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:

### UX:
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø–µ—Ä–µ–¥ —ñ–º–ø–æ—Ä—Ç–æ–º
- ‚úÖ –í—ñ–∑—É–∞–ª—å–Ω–∏–π feedback
- ‚úÖ –ú–æ–∂–Ω–∞ –≤—Å—Ç–∞–≤–∏—Ç–∏ —à–ª—è—Ö –∑ clipboard

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ:
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ñ—Å–Ω—É—é—á–∏–π `gpClient.importCertificate()`
- ‚úÖ Proper error handling
- ‚úÖ Gio.File –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–∑—à–∏—Ä–µ–Ω—å (.pem, .crt, .cer)

### –ë–µ–∑–ø–µ–∫–∞:
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —à–ª—è—Ö—É
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É
- ‚úÖ –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è
- ‚úÖ –ù–µ –≤–∏–∫–æ–Ω—É—î –∫–æ–º–∞–Ω–¥—É —è–∫—â–æ —Ñ–∞–π–ª –Ω–µ —ñ—Å–Ω—É—î

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

### –ü–æ–∑–∏—Ç–∏–≤–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π:
```bash
# 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç
touch /tmp/test-cert.pem

# 2. –í—ñ–¥–∫—Ä–∏—Ç–∏ Settings ‚Üí Import Certificate
# 3. –í–≤–µ—Å—Ç–∏: /tmp/test-cert.pem
# 4. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ Import
# 5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ notification
```

### –ù–µ–≥–∞—Ç–∏–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:

**–ü–æ—Ä–æ–∂–Ω—î –ø–æ–ª–µ:**
```bash
# 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –¥—ñ–∞–ª–æ–≥
# 2. –ù–µ –≤–≤–æ–¥–∏—Ç–∏ –Ω—ñ—á–æ–≥–æ
# 3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ Import
# 4. –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏: "Please enter a certificate path"
```

**–§–∞–π–ª –Ω–µ —ñ—Å–Ω—É—î:**
```bash
# 1. –í–≤–µ—Å—Ç–∏: /nonexistent/file.pem
# 2. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ Import
# 3. –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏: "File not found: /nonexistent/file.pem"
```

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:**
```bash
# 1. –°—Ç–≤–æ—Ä–∏—Ç–∏: touch /tmp/test.txt
# 2. –í–≤–µ—Å—Ç–∏: /tmp/test.txt
# 3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ Import
# 4. –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –∞–ª–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —ñ–º–ø–æ—Ä—Ç
```

---

## –û–±–º–µ–∂–µ–Ω–Ω—è:

1. **–ù–µ–º–∞—î file browser:**
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –∑–Ω–∞—Ç–∏ —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É
   - –ú–æ–∂–Ω–∞ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∑ file manager

2. **–ù–µ–º–∞—î –∞–≤—Ç–æ–¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è:**
   - Shell extensions –Ω–µ –º–∞—é—Ç—å –¥–æ—Å—Ç—É–ø—É –¥–æ tab completion
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –≤–≤–µ—Å—Ç–∏ –ø–æ–≤–Ω–∏–π —à–ª—è—Ö

3. **–ù–µ–º–∞—î –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É:**
   - –ù–µ –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –≤–º—ñ—Å—Ç —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—É
   - –¢—ñ–ª—å–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —ñ—Å–Ω—É–≤–∞–Ω–Ω—è

---

## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:

### –î–æ (v1.2.0):
```
[Import Certificate...] 
    ‚Üì
Notification –∑ CLI —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏
    ‚Üì
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∫–æ–ø—ñ—é—î –∫–æ–º–∞–Ω–¥—É
    ‚Üì
–í—ñ–¥–∫—Ä–∏–≤–∞—î —Ç–µ—Ä–º—ñ–Ω–∞–ª
    ‚Üì
–í–∏–∫–æ–Ω—É—î –≤—Ä—É—á–Ω—É
```

### –ü—ñ—Å–ª—è (v1.2.1):
```
[Import Certificate...]
    ‚Üì
–î—ñ–∞–ª–æ–≥ –∑ –ø–æ–ª–µ–º –≤–≤–æ–¥—É
    ‚Üì
–í–≤–µ—Å—Ç–∏ —à–ª—è—Ö (–∞–±–æ –≤—Å—Ç–∞–≤–∏—Ç–∏)
    ‚Üì
–í–∞–ª—ñ–¥–∞—Ü—ñ—è
    ‚Üì
[Import] ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
    ‚Üì
Notification –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
```

---

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

### –ö–æ–¥:
- –†—è–¥–∫—ñ–≤ –∫–æ–¥—É: ~100
- –ú–µ—Ç–æ–¥—ñ–≤: 1 (–æ–Ω–æ–≤–ª–µ–Ω–æ)
- UI –µ–ª–µ–º–µ–Ω—Ç—ñ–≤: 5 (title, info, input, validation, buttons)

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è:
- –ü–µ—Ä–µ–≤—ñ—Ä–æ–∫: 3
- –¢–∏–ø—ñ–≤ –ø–æ–º–∏–ª–æ–∫: 3
- –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö —Ä–æ–∑—à–∏—Ä–µ–Ω—å: 3 (.pem, .crt, .cer)

---

## –í–µ—Ä—Å—ñ—è: 1.2.1

### –ó–º—ñ–Ω–∏:
- ‚úÖ –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –¥—ñ–∞–ª–æ–≥ –∑–∞–º—ñ—Å—Ç—å notification
- ‚úÖ –ü–æ–ª–µ –≤–≤–æ–¥—É —à–ª—è—Ö—É
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–∞–π–ª—É
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —ñ–º–ø–æ—Ä—Ç
- ‚úÖ –†–µ–∞–ª-—Ç–∞–π–º feedback

---

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:

```bash
# –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
glib-compile-schemas schemas/

# –ü–µ—Ä–µ–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
make uninstall && make install

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ GNOME Shell
# Wayland: –≤–∏–π—Ç–∏ —Ç–∞ —É–≤—ñ–π—Ç–∏
# X11: Alt+F2 ‚Üí r ‚Üí Enter

# –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è
gnome-extensions enable globalprotect@username.github.io
```

---

**Import Certificate —Ç–µ–ø–µ—Ä –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π! üéâ**

